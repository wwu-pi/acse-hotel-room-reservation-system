Using Papyrus to generate a UML class diagram with stereotypes:
===============================================================
1) create a Papyrus project containing a Papyrus model
2) select UMl as language
3) click on model in the model explorer
4) select "create new diagram -> new class diagram" from the context menu
5) select classes, properties, operations, associations, ... from the Palette
   and place the on the canvas
6) create a new Papyrus model (in the same project) 
7) select UML Profile as language (select Profile diagram)
8) select stereotypes, properties, metaclasses from the Palette
9) connect the stereotypes using extension links (from the Palette) with metaclasses
10) save and define the diagram
11) in the first model, select "model" in the Model Explorer 
12) choose the Profile tab in the Properties window and press "+"
13) choose the desired profile
14) click on every model element, which should get a stereotype,
    and add the in the Properties window (Profile tab)